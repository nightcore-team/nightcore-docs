# Команды системы экономики

---

## /profile
!!! info ""
    Посмотреть свой профиль (или другого пользователя, если вы указали его в параметре `user`)

    Информация в профиле:

    - `Уровень`
    - `Опыт` - текущий / нужный для повышения уровня
    - `Количество сообщений в гильдии` - с момента добавления бота в гильдию
    - `Голосовая активность`
    - `Уровень батлпасса`
    - `Цвета` - если есть в наличии (опционален)
    - `Кейсы` - если есть в наличии (опционален)

    Так же по кнопке `История переводов`, вы можете узнать свою историю переводов (`/pay`)

    ### Параметры
    - `user` - пользователь, чей профиль вы хотите увидеть (опционален)

---

## /balance
!!! info ""
    Посмотреть свой баланс (или другого пользователя, если вы указали его в параметре `user`)

    ### Параметры
    - `user` - пользователь, чей баланс вы хотите увидеть (опционален)

---

## /battlepass
!!! info ""
    Открыть меню батлпасса

    Информация:

    - Общее количество уровней в гильдии
    - Ваш текущий уровень
    - Прогресс - количество ваших очков батлпасса / количество очков нужных для получения уровня
    - Награда за уровень
    - Возможность узнать информацию о каждом уровне - кнопка `Информация`
    - Возможность забрать награду за текущий уровень - кнопка `Забрать награду`

!!! warning "Возможные ошибки"
    - Баттлпас не настроен на этом сервере.

---

## /paint
!!! info ""
    Применить на себя цвет из инвентаря или снять его.  
    Выдается роль вашего цвета.  
    Если у вас уже есть применененный цвет, он заменяется выбранным или снимается при выбранной опции `Сбросить цвет`

    ### Необходимые права бота
    - `manage_roles` - для выдачи или снятия роли цвета

    ### Параметры
    - `color` - цвет, который вы хотите применить.  
      Выбор с помощью автокомплита, ввод не влияет на выводимые цвета. Добавляется 1 параметр `Сбросить цвет` для снятия цвета
      Как значение передается id цвета

!!! warning "Возможные ошибки"
    - Вы уже применили на себя выбранный цвет
    - У вас нет примененного цвета для сброса (При выбранном параметре `Сбросить цвет`)
    - У вас нет выбранного цвета в инвентаре
    - Роль цвета не найдена в гильдии

---

## /pay
!!! info ""
    Передать коины другому пользователю

    ### Необходимые права бота
    - `send_messages` - для отправки лога о переводе коинов (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `user` - пользователь, которому вы хотите перевести коины (Упоминание или id)
    - `amount` - сумма перевода, целое число
    - `comment` - комментарий к переводу, ограничение - до 200 символов (опционален)

!!! warning "Возможные ошибки"
    - Сумма перевода должна быть положительным числом
    - Вы не можете перевести коины боту
    - Вы не можете перевести коины самому себе
    - Пользователь, которому вы хотите перевести коины, не найден в гильдии
    - Название коина не настроено на этом сервере
    - У вас недостаточно коинов для перевода

---

## /reward
!!! info ""
    Забрать ежедневную награду

    Награда настраивается [здесь](config.md#config-economy-setup), параметр `reward_bonus`

!!! warning "Возможные ошибки"
    - Конфигурация экономики не создана в данной гильдии
    - Ежедневная награда не настроена в данной гильдии
    - Вы уже забирали награду сегодня

---

## /shopmessage
!!! info ""
    Отправить сообщение магазина

    Товары настраивается [здесь](config.md#config-economy-setup), параметр `shop_items`

    ### Доступ
    `ECONOMY_ACCESS`

!!! warning "Возможные ошибки"
    - Конфигурация экономики не создана в данной гильдии
    - Название коина не настроено в данной гильдии
    - В магазине нет товаров

---

## /top
!!! info ""
    Показать топ 10 пользователей в гильдии

    Возможности сортировки:

    - `Голосовая активность`
    - `Коины`
    - `Уровень`
    - `Сообщения`
    - `Уровень battlepass`

    ### Параметры
    - `sort_by` - выбор сортировки

---

## /temp role
!!! info ""
    Выдать пользователю временную роль

    ### Доступ
    `ECONOMY_ACCESS`

    ### Параметры

    - `user` - пользователь, которому выдается роль, должен находиться в гильдии (Упоминание или id)
    - `role` - роль для выдачи (Упоминание или id)
    - `duration`- срок действия роли, пример - `3d`
    - `reason`- причина выдачи роли (опционален)

!!! warning "Возможные ошибки"
    - У пользователя уже есть выбранная роль
    - Невозможно выдать временную роль боту
    - Невозможно выдать временную роль человеку, которая выше роли бота
    - Невозможно выдать временную роль с правами администратора

---

## /temp multipler
!!! info ""
    Установить временный множитель (Заменяет постоянный)  
    Если временный множитель уже существует, он обновляется

    Доступные множители:

    - Опыта
    - Коинов
    - Очков батлпасса

    ### Доступ
    `ECONOMY_ACCESS`

    ### Параметры
    - `multiplier_type` - тип множителя
    - `multiplier` - значение множителя, ограничение от 1 до 10000, целое число
    - `duration` - длительность множителя, пример - `3d`

---

## /remove color
!!! info ""
    Убрать у пользователя определенный цвет из его инвентаря

    ### Необходимые права бота
    - `send_messages` - для отправки лога о снятии цвета (в случае, если канал для логирования экономики настроен)

    ### Доступ
    `ECONOMY_ACCESS`

    ### Параметры
    - `user` - пользователь, у которого нужно удалить цвет (Упоминание или id)
    - `color` - цвет, который нужно удалить  
    Выбор с помощью автокомплита, ввод не влияет на выводимые цвета.  
    Как значение передается id цвета
    - `reason` - причина удаления цвета (опционален)

!!! note "Информация в логе"
    - `Выдал` - пользователь, снявший цвет (Упоминание и id)
    - `Пользователь` - пользователь, у которого был удален цвет (Упоминание и id)
    - `Количество` - всегда -1 для этой команды
    - `Предмет` - название снятого цвета и id роли
    - `Причина` - причина снятия цвета, если не указана при вводе команды значение будет `Не указана`

!!! warning "Возможные ошибки"
    - Невозможно удалить цвет у бота
    - Цвет не найден в базе данных
    - У пользователя нет выбранного цвета в инвентаре

---

## /give coins
!!! info ""
    Выдать коины пользователю

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога о выдаче коинов (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `user` - пользователь, которому нужно выдать коины (Упоминание или id)
    - `amount` - количество коинов для добавления (или снятия), целое число, ограничение от `-50000` до `50000` 
    - `reason` - причина выдачи коинов (опционален)

!!! note "Информация в логе"
    - `Выдал` - пользователь, выдавший коины (Упоминание и id)
    - `Пользователь` - пользователь, которому были выданы коины (Упоминание и id)
    - `Количество` - количество выданных коинов
    - `Предмет` - название коинов
    - `Причина` - причина выдачи коинов, если не указана при вводе команды значение будет `Не указана`

!!! warning "Возможные ошибки"
    - Невозможно выдать коины боту
    - Название коинов не настроено в данной гильдии

---

## /give color
!!! info ""
    Выдать цвет пользователю

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога о выдаче цвета (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `user` - пользователь, которому нужно выдать цвет (Упоминание или id)
    - `color` - цвет, который нужно выдать
    Выбор с помощью автокомплита, ввод не влияет на выводимые цвета.  
    Как значение передается id цвета
    - `reason` - причина выдачи цвета (опционален)

!!! note "Информация в логе"
    - `Выдал` - пользователь, выдавший цвет (Упоминание и id)
    - `Пользователь` - пользователь, которому были выдан цвет (Упоминание и id)
    - `Количество` - всегда 1 для этой команды
    - `Предмет` - название цвета и id его роли
    - `Причина` - причина выдачи цвета, если не указана при вводе команды значение будет `Не указана`

!!! warning "Возможные ошибки"
    - Невозможно выдать цвет боту
    - Название коинов не настроено в данной гильдии
    - Цвет не найден в базе данных
    - У пользователя уже есть этот цвет

---

## /give exp
!!! info ""
    Выдать опыт пользователю

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога о выдаче опыта (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `user` - пользователь, которому нужно выдать опыт (Упоминание или id)
    - `amount` - количество опыта для добавления (или снятия), целое число, ограничение от `-50000` до `50000` 
    - `reason` - причина выдачи коинов (опционален)

!!! note "Информация в логе"
    - `Выдал` - пользователь, выдавший опыт (Упоминание и id)
    - `Пользователь` - пользователь, которому был выдан опыт (Упоминание и id)
    - `Количество` - количество выданного опыта
    - `Предмет` - всегда `опыт` для этой команды
    - `Причина` - причина выдачи опыта, если не указана при вводе команды значение будет `Не указана`

!!! warning "Возможные ошибки"
    - Невозможно выдать опыт боту

---

## /give bp_exp
!!! info ""
    Выдать очки батлпасса пользователю

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога о выдаче очков батлпасса (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `user` - пользователь, которому нужно выдать очки батлпасса (Упоминание или id)
    - `amount` - количество очков батлпасса для добавления (или снятия), целое число, ограничение от `-50000` до `50000` 
    - `reason` - причина выдачи очков батлпасса (опционален)

!!! note "Информация в логе"
    - `Выдал` - пользователь, выдавший очки батлпасса (Упоминание и id)
    - `Пользователь` - пользователь, которому были выданы очки батлпасса  (Упоминание и id)
    - `Количество` - количество выданных очков батлпасса 
    - `Предмет` - всегда `очки батлпасса` для этой команды
    - `Причина` - причина выдачи очков батлпасса, если не указана при вводе команды значение будет `Не указана`

!!! warning "Возможные ошибки"
    - Невозможно выдать очки батлпасса боту

---

## /give clanrep
!!! info ""
    Выдать репутацию клану

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога о выдаче репутации клану (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `clan` - клан, которому нужно выдать репутацию  
    Выбор с помощью автокомплита, ввод влияет на выводимые кланы.  
    Как значение передается id клана
    - `amount` - количество репутации для добавления (или снятия), целое число, ограничение от `-50000` до `50000` 
    - `reason` - причина выдачи репутации (опционален)

!!! note "Информация в логе"
    - `Выдал` - пользователь, выдавший репутацию (Упоминание и id)
    - `Пользователь` - пользователь, выдавший репутацию  (Упоминание и id)
    - `Количество` - количество выданной репутации 
    - `Предмет` - всегда `репутация` для этой команды
    - `Причина` - в данный момент только `Не указана`

!!! warning "Возможные ошибки"
    - Клан не найден в базе данных

---

## /give clanexp
!!! info ""
    Выдать опыт клану

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога о выдаче опыта клану (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `clan` - клан, которому нужно выдать опыт  
    Выбор с помощью автокомплита, ввод влияет на выводимые кланы.  
    Как значение передается id клана
    - `amount` - количество опыта для добавления (или снятия), целое число, ограничение от `-50000` до `50000` 
    - `reason` - причина выдачи репутации (опционален)

!!! note "Информация в логе"
    - `Выдал` - пользователь, выдавший опыт (Упоминание и id)
    - `Пользователь` - пользователь, выдавший опыт  (Упоминание и id)
    - `Количество` - количество выданной репутации 
    - `Предмет` - всегда `клановый опыт` для этой команды
    - `Причина` - причина выдачи опыта клану, если не указана при вводе команды значение будет `Не указана`

!!! warning "Возможные ошибки"
    - Клан не найден в базе данных

---

## /give case
!!! info ""
    Выдать кейс клану

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога о выдаче кейса (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `user` - пользователь, которому нужно выдать кейс
    - `case` - кейс, который нужно выдать  
    Выбор с помощью автокомплита, ввод не влияет на выводимые кейсы.  
    Как значение передается id кейса
    - `amount` - количество кейсов для выдачи (отрицательно значение для удаления кейса из инвентаря пользователя)
    - `reason` - причина выдачи кейсов (опционален)

!!! note "Информация в логе"
    - `Выдал` - пользователь, выдавший кейс (Упоминание и id)
    - `Пользователь` - пользователь, которому был выдан кейс (Упоминание и id)
    - `Количество` - количество выданных кейсов
    - `Предмет` - название выбранного для выдачи кейса
    - `Причина` - причина выдачи кейса, если не указана при вводе команды значение будет `Не указана`

!!! warning "Возможные ошибки"
    - Невозможно выдать кейс боту
    - Кейс не найден в базе данных
    - Невозможно выдать отрицательное количество (Только при отсутствии выбранного кейса в инвентаре пользователя)

---

## /color create
!!! info ""
    Создать цвет для последующего использования в батлпассе или кейсах

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога о создании цвета (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `role` - роль, к которой будет привязан цвет (Упоминание или id)

!!! note "Информация в логе"
    - `Инициатор` - пользователь, создавший цвет (Упоминание и id)
    - `Предмет` - созданный цвет (Упоминание роли цвета и id роли)

!!! warning "Возможные ошибки"
    - Вы не можете использовать роль с позицией выше чем ваша высшая роль
    - Роль цвета не может иметь права администратора
    - Роль цвета должна быть ниже высшей роли бота (чтоб он мог ее выдать)
    - К выбранной роли уже привязан цвет

---

## /color change
!!! info ""
    Изменить роль цвета

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога об изменении цвета (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `color` - цвет, который нужно изменить
    Выбор с помощью автокомплита, ввод не влияет на выводимые цвета.  
    Как значение передается id цвета
    - `new_role` - роль, к которой будет привязан цвет (Упоминание или id)

!!! note "Информация в логе"
    - `Инициатор` - пользователь, изменивший цвет (Упоминание и id)
    - `Предмет` - измененный цвет (Упоминание роли цвета и id роли)
    - `Изменение цвета` - цвет до изменения -> цвет после изменения (Упоминание и id роли для каждого состояния)

!!! warning "Возможные ошибки"
    - Вы не можете использовать роль с позицией выше чем ваша высшая роль
    - Роль цвета не может иметь права администратора
    - Роль цвета должна быть ниже высшей роли бота (чтоб он мог ее выдать)
    - Выбранный цвет не найден в базе данных
    - К выбранной роли уже привязан цвет

---

## /color delete
!!! info ""
    Удалить цвет (роль цвета при этом не удаляется)

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога об удалении цвета (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `color` - цвет, который нужно удалить
    Выбор с помощью автокомплита, ввод не влияет на выводимые цвета.  

!!! note "Информация в логе"
    - `Инициатор` - пользователь, изменивший цвет (Упоминание и id)
    - `Предмет` - удаленный цвет (Название цвета и id роли цвета)

!!! warning "Возможные ошибки"
    - Цвет не найден в базе данных

---

## /case create
!!! info ""
    Создать кейс  
    Максимальное число наград в нем - `30`

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога о создании кейса (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `case_name` - название кейса, ограничение от 5 до 100 символов  

!!! note "Информация в логе"
    - `Инициатор` - пользователь, создавший кейс (Упоминание и id)
    - `Предмет` - название созданного кейса

!!! warning "Возможные ошибки"
    - Кейс с данным названием уже существует

---

## /case delete
!!! info ""
    Удалить кейс

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога об удалении кейса (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `case` - кейс, который нужно удалить
    Выбор с помощью автокомплита, ввод влияет на выводимые кейсы.  
    Как значение передается id кейса

!!! note "Информация в логе"
    - `Инициатор` - пользователь, удаливший кейс (Упоминание и id)
    - `Предмет` - название удаленного кейса

!!! warning "Возможные ошибки"
    - Выбранный кейс не найден в базе данных

---

## /case change
!!! info ""
    Изменить название кейса

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога об изменении названия кейса (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `case` - кейс, название которого нужно изменить
    Выбор с помощью автокомплита, ввод влияет на выводимые кейсы.  
    Как значение передается id кейса
    - `new_case_name` - новое название кейса, ограничение от 5 до 100 символов  

!!! note "Информация в логе"
    - `Инициатор` - пользователь, изменивший название (Упоминание и id)
    - `Предмет` - новое название кейса кейса
    - `Изменение кейса` - старое название -> новое название

!!! warning "Возможные ошибки"
    - Выбранный кейс не найден в базе данных
    - Кейс с данным названием уже существует

---

## /case add_reward
!!! info ""
    Добавить награду в кейс

    Доступные типы наград:

    - `EXP` - опыт
    - `COINS` - коины
    - `COLOR` - цвет, выбор нужного в параметре `reward`
    - `CASE` - кейс, выбор нужного в параметре `reward`
    - `CUSTOM` - кастомная награда в виде строки, ввод в параметр `reward`
    - `BATTLEPASS_POINTS` - очки батлпасса

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога о добавлении награды в кейс (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `case` - кейс, в который нужно добавить награду
    Выбор с помощью автокомплита, ввод влияет на выводимые кейсы.  
    Как значение передается id кейса
    - `reward_type` - Тип награды
    - `weight` - вес награды, не является шансом выпадения напрямую (рассчитывается на основании веса каждой награды в кейсе)
    - `amount` - Количество, игнорируется для типа награды `COLOR`
    - `reward` - Выбор кейса / цвета / ввод текста, в зависимости от типа награды  (опционален)
    Если тип награды не подходящий, вы увидите один вариант ввода - `Данный параметр используется только для типов кейс/цвет / custom!` (опционален)

!!! note "Информация в логе"
    - `Инициатор` - пользователь, изменивший название (Упоминание и id)
    - `Предмет` - новое название кейса кейса
    - `Добавленная награда` - информация о добавленной награде (название, вес и количество)

!!! warning "Возможные ошибки"
    - Для типов CASE, COLOR, CUSTOM ввод награды обязателен (параметра `reward`)
    - Максимальная длина награды - 100 символов (при выборе типа награды `CUSTOM`)
    - Введен неверный id кейса или цвета
    - Выбранный кейс не найден в базе данных (в который вы хотите добавить награду)
    - Достигнуто максимально количество наград в кейсе (`30` максимальное число наград)
    - Кейс с данным id не найден (при выборе типа награды `CASE`)
    - Цвет с данным id не найден (при выборе типа награды `COLOR`)

---

## /case delete_reward
!!! info ""
    Удалить награду из кейса

    ### Доступ
    `ECONOMY_ACCESS`

    ### Необходимые права бота
    - `send_messages` - для отправки лога об удалении награды из кейса (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `case` - кейс, награду которого нужно удалить
    Выбор с помощью автокомплита, ввод влияет на выводимые кейсы.  
    Как значение передается id кейса
    - `num` - порядковый номер награды для удаления (начиная с `1`), ограничение от 1 до 1000000, целое число (номер награды можно узнать в команде `/case help`)

!!! note "Информация в логе"
    - `Инициатор` - пользователь, изменивший название (Упоминание и id)
    - `Предмет` - новое название кейса кейса
    - `Удаленная награда` - информация об удаленной награде (название, вес и количество)

!!! warning "Возможные ошибки"
    - Выбранный кейс не найден в базе данных
    - Награда с введенным порядковым номером не существует

---

## /case help
!!! info ""
    Получить информацию о каждом кейсе из гильдии  
    1 Кейс на страницу

    Предоставляет информацию о каждой награде из кейса:

    - `Порядковый номер награды`
    - `Количество предметов`
    - `Название предмета`
    - `Шанс выпадения`

---

## /case open
!!! info ""
    Открыть кейс

    В случае, если вам выпадает цвет, который уже есть в инвантаре, вы получите компенсацию в коинах (В случае если она настроена)  
    Компенсация настраивается [здесь](./config.md#config-economy-setup), параметр `color_compensation`

    ### Необходимые права бота
    - `send_messages` - для отправки лога об открытии кейса (в случае, если канал для логирования экономики настроен)

    ### Параметры
    - `case` - кейс, который вы хотите открыть
    Выбор с помощью автокомплита, ввод влияет на выводимые кейсы.  
    Как значение передается id кейса

!!! note "Информация в логе"
    - `Выдал` - бот (Упоминание и id)
    - `Пользователь` - пользователь, открывший кейс (Упоминание и id)
    - `Предмет` - название полученной из кейса награды
    - `Количество` - количество полученной награды
    - `Причина` - всегда `открытие кейса` для этой команды

!!! warning "Возможные ошибки"
    - Неизвестный тип кейс (если кейс не найден в базе данных)
    - У вас нет такого кейса для открытия
    - Награды не настроены для выбранного кейса

---